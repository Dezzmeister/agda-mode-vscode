// Generated by ReScript, PLEASE EDIT WITH CARE
'use strict';

var Vscode = require("vscode");
var Util$AgdaModeVscode = require("../Util/Util.bs.js");

async function openGlobalStorageFolder(state) {
  await Vscode.env.openExternal(state.globalStorageUri);
}

async function handleSelection(state, selection) {
  var match = selection.label;
  if (match === "Open download folder") {
    return await openGlobalStorageFolder(state);
  }
  console.log("Unknown selection");
}

async function run(state) {
  var quickPick = Vscode.window.createQuickPick();
  var subscriptions = [];
  quickPick.placeholder = "Switch Agda Version";
  var otherItems = [
    {
      kind: -1,
      label: "Other operations"
    },
    {
      description: "Execute Agda with given command name",
      label: "Change Agda command name"
    },
    {
      description: "Where the language servers are downloaded",
      label: "Open download folder"
    }
  ];
  Util$AgdaModeVscode.Disposable.add(quickPick.onDidChangeSelection(function (items) {
            items.forEach(function (item) {
                  handleSelection(state, item);
                });
          }), subscriptions);
  Util$AgdaModeVscode.Disposable.add(quickPick.onDidHide(function () {
            quickPick.dispose();
            subscriptions.forEach(function (sub) {
                  sub.dispose();
                });
          }), subscriptions);
  var items = [otherItems].flat();
  quickPick.items = items;
  quickPick.show();
}

exports.openGlobalStorageFolder = openGlobalStorageFolder;
exports.handleSelection = handleSelection;
exports.run = run;
/* vscode Not a pure module */
