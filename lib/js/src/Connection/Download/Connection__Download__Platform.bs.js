// Generated by ReScript, PLEASE EDIT WITH CARE
'use strict';

var Getos = require("getos");
var Nodeos = require("node:os");

function determine() {
  return new Promise((function (resolve, param) {
                Getos(function (error, raw) {
                      if (!(error == null)) {
                        return resolve({
                                    TAG: "Error",
                                    _0: raw,
                                    [Symbol.for("name")]: "Error"
                                  });
                      }
                      var match = Nodeos.platform();
                      switch (match) {
                        case "darwin" :
                            var match$1 = Nodeos.arch();
                            switch (match$1) {
                              case "arm64" :
                                  return resolve({
                                              TAG: "Ok",
                                              _0: "MacOS_Arm",
                                              [Symbol.for("name")]: "Ok"
                                            });
                              case "x64" :
                                  return resolve({
                                              TAG: "Ok",
                                              _0: "MacOS_Intel",
                                              [Symbol.for("name")]: "Ok"
                                            });
                              default:
                                return resolve({
                                            TAG: "Error",
                                            _0: raw,
                                            [Symbol.for("name")]: "Error"
                                          });
                            }
                        case "linux" :
                            var match$2 = raw.dist;
                            if (match$2 === "Ubuntu") {
                              return resolve({
                                          TAG: "Ok",
                                          _0: "Ubuntu",
                                          [Symbol.for("name")]: "Ok"
                                        });
                            } else {
                              return resolve({
                                          TAG: "Error",
                                          _0: raw,
                                          [Symbol.for("name")]: "Error"
                                        });
                            }
                        case "win32" :
                            return resolve({
                                        TAG: "Ok",
                                        _0: "Windows",
                                        [Symbol.for("name")]: "Ok"
                                      });
                        default:
                          return resolve({
                                      TAG: "Error",
                                      _0: raw,
                                      [Symbol.for("name")]: "Error"
                                    });
                      }
                    });
              }));
}

function toAssetName(platform) {
  switch (platform) {
    case "Windows" :
        return "windows";
    case "Ubuntu" :
        return "ubuntu";
    case "MacOS_Arm" :
        return "macos-arm64";
    case "MacOS_Intel" :
        return "macos-x64";
    
  }
}

exports.determine = determine;
exports.toAssetName = toAssetName;
/* getos Not a pure module */
